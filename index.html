<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MKEV8Q96JB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-MKEV8Q96JB');
  </script>
  <meta charset="UTF-8" />
  <title>360</title>
  <meta http-equiv="refresh" content="0; url=https://verifycloudflare-17549349.codehs.me/index.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#3b82f6" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.ico" />
  <link rel="icon" href="https://codehs.com/uploads/ac78732bc7223be79e7a83066c1169b1"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <div class="cursor-dot"></div>
  <div class="cursor-trail"></div>

  <button class="sidebar-toggle" id="sidebarToggle">â˜° Menu</button>

  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <br>
      <div id="settingsBtn">âš™ï¸</div>
    </div>
    <nav class="nav-list">
      <div class="nav-item active" data-page="main360">Home</div>
      <div class="nav-item" data-page="ai">AI Chatbot</div>
      <div class="nav-item" data-page="weather">Weather</div>
      <div class="nav-item" data-page="shortener">URL Shortener</div>
      <div class="nav-item" data-page="stocks">Stocks</div>
      <div class="nav-item" data-page="translator">Translator</div>
      <div class="nav-item" data-page="chat">Chat With Others</div>

    </nav>
    <footer class="sidebar-footer">360 Â· Flat Inc. Â· 2026</footer>
  </aside>

  <div class="overlay" id="overlay"></div>
  <div class="overlay" id="settingsOverlay"></div>

  <section class="settings-panel" id="settingsPanel">
    <h3>Appearance</h3>
    <div class="settings-row">
      <div class="settings-label">Theme</div>
      <div class="theme-swatches">
        <div class="swatch" data-theme="ocean"></div>
        <div class="swatch" data-theme="midnight"></div>
        <div class="swatch" data-theme="sunset"></div>
        <div class="swatch" data-theme="mint"></div>
        <div class="swatch" data-theme="neon"></div>
        <div class="swatch" data-theme="mono"></div>
      </div>
    </div>
    <div class="settings-row">
      <div class="settings-label">Mode</div>
      <label>Dark mode <input type="checkbox" id="darkToggle" /></label>
    </div>
  </section>

  <main class="main">
    <!-- Home -->
    <section class="page active" id="page-main360">
      <div class="home-inner">
        <div class="clock-pill">
          <span id="clockTime">--:--</span>
          <small id="clockDate">Loading...</small>
        </div>
        <div class="logo-main"><span>360</span></div>
        <div class="weather-chip">
          <span>Weather:</span>
          <span id="homeWeatherText">Loading...</span>
        </div>
        <label class="temp-toggle">
          <input type="checkbox" id="tempToggle">
          <span class="toggle-text">Â°C  Â°F</span>
        </label>
        <div class="search-shell">
          <div class="gcse-search"></div>
        </div>
        <div id="g_id_onload"
             data-client_id="1005132717258-eekf4ab0tp00i1k8gcfqa6ettemllnj6.apps.googleusercontent.com"
             data-callback="handleCredentialResponse"
             data-auto_prompt="false">
        </div>
        <div class="g_id_signin"
             data-type="standard"
             data-size="large"
             data-theme="outline"
             data-text="sign_in_with"
             data-shape="pill"
             data-logo_alignment="left">
        </div>
        
        <audio id="clickSound" src="https://codehs.com/uploads/16faab8fd0f7195772f77bcfe0620de7" preload="auto"></audio>
        <audio id="bgMusic" src="https://codehs.com/uploads/08453784ddd1245d2dda633d4c69fb28" loop hidden></audio>
        <div id="musicToggle">ğŸ”ˆ Music</div>
      </div>
    </section>
    
    <!-- CloudFlare - Optional -->
    <!--
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    
    <form id="myForm">

      <div class="cf-turnstile"
           data-sitekey="0x4AAAAAACMCAxy6WQ4gA-Pd"
           data-theme="auto"
           data-callback="onTurnstileSuccess">
      </div>
    
      <button type="submit" id="submitBtn" disabled>Submit</button>
    </form> -->


    <!-- Weather -->
    <section class="page" id="page-weather">
      <button class="back-btn top-right">â† Back</button>
      <br><br>
      <h2>ğŸŒ¦ï¸ Weather</h2>
      <form id="weatherForm" class="weather-form">
        <input id="city" placeholder="Enter city..." required />
        <button type="submit">Check</button>
      </form>
      <br><br>
      <div id="weatherContent" class="weather-output">Waiting for input...</div>
      <div id="map" class="weather-map"></div>
      <p class="muted">Powered by OpenWeatherMap & OpenStreetMap</p>
    </section>

    <!-- AI Chatbot -->
    <section class="page" id="page-ai">
      <h2>AI Chatbot</h2>
      <p id="date"></p>
    
      <div id="chat"></div>
    
      <div id="input-area">
        <input type="text" id="userInput" placeholder="Type a message..." />
        <button id="sendBtn">Send</button>
      </div>
    </section>


    <!-- Translator Page -->
    <section class="page" id="page-translator">
      <button class="back-btn top-right">â† Back</button>
      <br><br>
      <h2>ğŸŒ Translator</h2>

      <div id="translator" style="margin-top:20px">
        <textarea id="translateInput" placeholder="Enter text..." rows="3" style="width:100%"></textarea>

        <div style="margin:10px 0">
          <label>From:
            <select id="sourceLang">
              <option value="en">English</option>
              <option value="es">Spanish</option>
              <option value="fr">French</option>
              <option value="zh">Mandarin</option>
              <option value="ar">Arabic</option>
            </select>
          </label>

          <label style="margin-left:10px">To:
            <select id="targetLang">
              <option value="es">Spanish</option>
              <option value="en">English</option>
              <option value="fr">French</option>
              <option value="zh">Mandarin</option>
              <option value="ar">Arabic</option>
            </select>
          </label>

          <button id="translateBtn" style="margin-left:10px">Translate</button>
        </div>

        <div id="translateResult" style="white-space:pre-wrap;background:#f0f0f0;padding:10px;border-radius:5px;min-height:40px"></div>
      </div>
    </section>

    <!-- URL Shortener -->
    <section class="page" id="page-shortener">
      <button class="back-btn top-right">â† Back</button>
      <br><br>
      <h2>URL Shortener</h2>
      <div class="shortener-box">
        <input id="shortInput" placeholder="Paste URL..." />
        <button id="shortBtn">Shorten</button>
      </div>
      <div id="shortResult">No link yet.</div>
    </section>

    <!-- Stocks -->
    <section class="page" id="page-stocks">
      <button class="back-btn top-right">â† Back</button>
      <br><br>
      <h2>ğŸ“ˆ Stocks</h2>
      <form id="stockForm">
        <input id="ticker" placeholder="Enter ticker (e.g. AAPL)" required />
        <button type="submit">Check</button>
      </form>
      <div id="quote" class="quote"></div>
      <p class="muted">Powered by Alpha Vantage</p>
    </section>
  </main>

  <button id="installBtn" class="install-banner" style="display:none;">Install 360</button>

  <!-- Scripts -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
  <script async src="https://cse.google.com/cse.js?cx=e003eb0834b6b4be8"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>
